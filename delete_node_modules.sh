#!/bin/bash

# Function to recursively search for and delete `node_modules` folders
delete_node_modules() {
    # Loop through all items in the current directory
    for item in *; do
        # Check if the item is a directory
        if [[ -d "$item" ]]; then
            # Check if the directory is named "node_modules"
            if [[ "$item" == "node_modules" ]]; then
                echo "Deleting node_modules folder in: $(pwd)"
                rm -rf "$item"  # Delete the node_modules folder
            else
                # Enter the subdirectory and search for `node_modules` folders
                cd "$item" || continue
                delete_node_modules  # Recursively call the function
                cd ..  # Go back to the previous directory
            fi
        fi
    done
}

# Start from the Projects folder or change the path to your desired root folder
root_folder="./"

# Change to the root folder
cd "$root_folder" || exit

# Call the function to delete `node_modules` folders
delete_node_modules

echo "All node_modules folders have been deleted."
